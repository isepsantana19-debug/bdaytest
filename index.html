<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday!</title>
  <link rel="shortcut icon" href="Happy_Birthday_Salome_Cake.png" type="image/x-icon">
  <style>
    :root {
      --primary: white;
      --bg-color: #F7E7CE;
      --bg-envelope-color: #f5edd1;
      --envelope-tab: #ecdeb8;
      --envelope-cover: #e6cfa7;
      --shadow-color: #1c1c1c;
    }

    body {
      margin: 0;
      background: var(--bg-color);
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .container {
      position: relative;
      animation: fall 1.5s ease-out forwards;
      transform: translateY(-100vh);
    }
    @keyframes fall { to { transform: translateY(0); } }

    .envelope-wrapper {
      background: var(--bg-envelope-color);
      box-shadow: 0 0 40px var(--shadow-color);
      width: 700px;
      height: 500px;
      aspect-ratio: 7/5;
      position: relative;
      margin: 0 auto;
      animation: fadeOutEnvelope 1s ease-in-out 4.5s forwards;
    }
    @keyframes fadeOutEnvelope {
      0% { opacity: 1; }
      100% { opacity: 0; visibility: hidden; }
    }

    .envelope {
      width: 100%;
      height: 100%;
      position: relative;
      overflow: hidden;
    }

    .envelope::before {
      content: "";
      position: absolute;
      top: 0; left: 0; right: 0;
      margin: auto;
      z-index: 3;
      border-top: 300px solid var(--envelope-tab);
      border-right: 350px solid transparent;
      border-left: 350px solid transparent;
      transform-origin: top;
      transform: rotateX(0deg);
      animation: flapOpen 1s ease-in-out 1.5s forwards;
    }
    @keyframes flapOpen { to { transform: rotateX(180deg); } }

    .envelope::after {
      content: "";
      position: absolute;
      z-index: 2;
      width: 0; height: 0;
      border-top: 300px solid transparent;
      border-right: 350px solid var(--envelope-cover);
      border-bottom: 220px solid var(--envelope-cover);
      border-left: 350px solid var(--envelope-cover);
      top: 0; left: 0;
    }

    /* Book muncul */
    .birthday-card {
      bottom: 0; left: 50%;
      transform: translateX(-50%) scale(0.8);
      opacity: 0;
      animation: emergeFromEnvelope 1s ease-in-out 2.5s forwards,
                 moveToCenter 1s ease-in-out 3.5s forwards;
      z-index: 10;
      position: absolute;
      width: 350px;
      height: 500px;
      border: 10px solid #e6cfa7;
      background: white;
      box-shadow: inset 10px 0px 15px rgba(0,0,0,0.1);
      overflow: hidden;
    }

    @keyframes emergeFromEnvelope {
      0% { bottom: 0; opacity: 0; }
      100% { bottom: 120px; opacity: 1; }
    }
    @keyframes moveToCenter {
      0% { bottom: 120px; transform: translateX(-50%) scale(0.8); }
      100% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(1); position: fixed; }
    }

    /* Cover luar & dalam */
    .cover-outer, .cover-inner {
      position: absolute;
      width: 100%; height: 100%;
      border: 10px solid #e6cfa7;
      transform-style: preserve-3d;
      transform-origin: 0% 50%;
      transition: all 0.8s ease-in-out;
    }
    .cover-outer {
      margin: -10px 0 0 -10px;
      backface-visibility: hidden;
      transform: perspective(800px) rotateY(0deg);
    }
    .cover-inner {
      background-color: #e6cfa7;
      margin: -10px 0 0 -10px;
      backface-visibility: visible;
      transform: perspective(800px) rotateY(0deg);
      overflow: hidden;
    }
    .cover-outer img { box-shadow: 0px 6px 11px 7px rgba(0,0,0,0.22); border-radius: 5px; }
    .cover-inner img { transform: rotateY(170deg); }

    .birthday-card.open .cover-outer {
      transform: perspective(800px) rotateY(-170deg);
    }
    .birthday-card.open .cover-inner {
      transform: perspective(800px) rotateY(-170deg);
      box-shadow: 7px 0 5px rgba(0, 0, 0, 0.3),
                  inset 2px 0px 15px rgba(0, 0, 0, 0.1);
    }

    /* Teks */
    .text {
      width: 100%;
      height: 100%;
      padding: 10px;
      box-sizing: border-box;
      font-family: sans-serif;
      text-align: justify;
      overflow: hidden; /* tidak ada scroll */
    }
    .text > p { font-size: 14px; line-height: 1.4; margin: 5px 0; }
    .text .title { font-size: 18px; text-align: center; font-weight: bold; margin-bottom: 10px; }

    /* Tombol */
    #bookButtons {
      position: absolute;
      bottom: 10px; left: 50%;
      transform: translateX(-50%);
      display: none; opacity: 0;
      transition: opacity 1s ease-in;
      z-index: 20; text-align: center;
    }
    #bookButtons.show { display: block; opacity: 1; }
    .center-bottom {
      background: transparent;
      color: black; font-weight: bold;
      border: none; padding: 8px 15px;
      border-radius: 5px; cursor: pointer;
      font-size: 0.9em; animation: pulse 1s infinite;
    }
    @keyframes pulse { 0%,100%{transform:scale(1);} 50%{transform:scale(1.1);} }

    /* Responsif */
    @media (max-width: 768px) {
      .birthday-card { width: 90vw; height: 120vw; max-height: 90vh; }
      .text > p { font-size: 12px; }
      .text .title { font-size: 16px; }
    }
    @media (max-width: 480px) {
      .birthday-card { width: 95vw; height: 130vw; }
      .text > p { font-size: 11px; }
      .text .title { font-size: 15px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="envelope-wrapper">
      <div class="envelope"></div>
    </div>

    <div id="book" class="birthday-card">
      <div class="cover-inner"><img src="cv-inner.png" width="100%" /></div>
      <div class="cover-outer"><img src="cover-out.png" width="100%" /></div>
      <div class="text" id="cardText">
        <p class="title">Happy 18th birthday Lomi!!! ðŸŽ‰</p>
        <p>
          How have you been? Itâ€™s been a while since we last talked. I just want to say that I hope this special day brings you so much happiness. I wish that in this new chapter of your life, your days are always filled with health, blessings, and beautiful moments that make you smile every single day.

I know not everyone truly understands what youâ€™ve been through, but I believe you have an incredible strength to overcome the heavy things in your life. Life isnâ€™t always easy, but please believe that every small step you take is already so valuable, and Iâ€™m proud of you for holding on and continuing to move forward this far.

Even though weâ€™ve never met in person, I feel lucky to know you. You are beautiful, caring, and wonderfully intelligent. Thereâ€™s something about you that always amazes me, you have a unique aura something that makes you truly special.

As you step into this new age, I sincerely hope all good things will always come to you. May you find more reasons to smile, more people who make you feel loved, and more opportunities that bring you closer to your dreams.

I also hope that one day there will be a chance for us to finally meet in person, talk more, and maybe hear your beautiful voice for realâ€”not just through a voice note or the picture in my mind.

Stay the way you are now strong, precious, and full of light. Donâ€™t forget that you deserve happiness, you deserve love, and you deserve to reach all of your dreams. Iâ€™ll always be proud of you Lomi, and Iâ€™ll keep wishing the very best for you, today and always.

Happy 18th birthday once again may this be the beginning of a new chapter filled with happiness for you.
        </p>
      </div>
      <audio autoplay><source src="The 1975 - About You.mp3" type="audio/mp3" /></audio>
      <div id="bookButtons">
        <button id="toggleBook" class="center-bottom">Click to Open</button>
      </div>
    </div>
  </div>

<script>
  setTimeout(() => {
    document.getElementById("bookButtons").classList.add("show");
  }, 4500);

  document.getElementById("toggleBook").addEventListener("click", function () {
    const book = document.getElementById("book");
    const button = document.getElementById("toggleBook");
    if (book.classList.contains("open")) {
      book.classList.remove("open");
      button.textContent = "Click to open";
    } else {
      book.classList.add("open");
      button.textContent = "Click to close";
    }
  });

  // Auto-scale text biar selalu muat
  function fitText() {
    const container = document.getElementById("cardText");
    container.style.transform = "scale(1)";
    container.style.transformOrigin = "top left";
    let scale = Math.min(
      container.parentElement.clientWidth / container.scrollWidth,
      container.parentElement.clientHeight / container.scrollHeight
    );
    container.style.transform = "scale(" + scale + ")";
  }
  window.addEventListener("load", fitText);
  window.addEventListener("resize", fitText);
</script>
</body>
</html>
